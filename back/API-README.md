# SubtleGram API Reference

–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ SubtleGram Backend —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è](#–æ–±—â–∞—è-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
- [Health Check](#health-check)
- [Health Check —Å–µ—Ä–≤–∏—Å–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤](#health-check-—Å–µ—Ä–≤–∏—Å–∞-—Å—É–±—Ç–∏—Ç—Ä–æ–≤)
- [–ó–∞–≥—Ä—É–∑–∫–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤](#–∑–∞–≥—Ä—É–∑–∫–∞-—Å—É–±—Ç–∏—Ç—Ä–æ–≤)
- [–ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π](#–∞–Ω–∞–ª–∏–∑-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)
- [–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö](#—Ç–∏–ø—ã-–¥–∞–Ω–Ω—ã—Ö)
- [–ö–æ–¥—ã –æ—à–∏–±–æ–∫](#–∫–æ–¥—ã-–æ—à–∏–±–æ–∫)
- [–õ–∏–º–∏—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](#–ª–∏–º–∏—Ç—ã-–∏-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **Base URL:** `http://localhost:3001`
- **Content-Type:** `application/json` (–¥–ª—è JSON –∑–∞–ø—Ä–æ—Å–æ–≤)
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–ø—É–±–ª–∏—á–Ω—ã–π API)
- **Rate Limiting:** 100 –∑–∞–ø—Ä–æ—Å–æ–≤ / 15 –º–∏–Ω—É—Ç —Å –æ–¥–Ω–æ–≥–æ IP

## Health Check

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

### GET /health

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –±–∞–∑–æ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

**Headers:**
```
Content-Type: application/json
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X GET http://localhost:3001/health
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:**

#### ‚úÖ 200 OK
```json
{
  "status": "OK",
  "timestamp": "2025-01-24T10:30:00.000Z",
  "environment": "development"
}
```

#### ‚ùå 500 Internal Server Error
```json
{
  "error": "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞",
  "message": "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞"
}
```

---

## –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤

–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ SRT, VTT –∏–ª–∏ TXT.

### POST /api/subtitles/upload

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª —Å—É–±—Ç–∏—Ç—Ä–æ–≤, –ø–∞—Ä—Å–∏—Ç –µ–≥–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

**Content-Type:** `multipart/form-data`

**Headers:**
```
Content-Type: multipart/form-data
```

**Body (form-data):**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|-------------|----------|
| `subtitle` | File | –î–∞ | –§–∞–π–ª —Å—É–±—Ç–∏—Ç—Ä–æ–≤ (.srt, .vtt –∏–ª–∏ .txt) |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST http://localhost:3001/api/subtitles/upload \
  -F "subtitle=@example.srt"
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:**

#### ‚úÖ 200 OK
```json
{
  "success": true,
  "message": "–§–∞–π–ª —Å—É–±—Ç–∏—Ç—Ä–æ–≤ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω",
  "data": {
    "filename": "example.srt",
    "subtitlesCount": 3,
    "subtitles": [
      {
        "id": 1,
        "start": "00:00:01,000",
        "end": "00:00:04,000",
        "text": "Hello world!"
      },
      {
        "id": 2,
        "start": "00:00:05,000",
        "end": "00:00:08,000",
        "text": "This is a test."
      },
      {
        "id": 3,
        "start": "00:00:09,000",
        "end": "00:00:12,000",
        "text": "How are you?"
      }
    ]
  }
}
```

#### ‚ùå 400 Bad Request - –§–∞–π–ª –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω
```json
{
  "error": "–§–∞–π–ª –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω",
  "message": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —Å—É–±—Ç–∏—Ç—Ä–æ–≤ (.srt, .vtt –∏–ª–∏ .txt)"
}
```

#### ‚ùå 400 Bad Request - –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞
```json
{
  "error": "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å—É–±—Ç–∏—Ç—Ä–æ–≤",
  "message": "–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º —Ñ–∞–π–ª–æ–º —Å—É–±—Ç–∏—Ç—Ä–æ–≤"
}
```

#### ‚ùå 400 Bad Request - –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
```json
{
  "error": "–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π",
  "message": "–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π –ª–∏–º–∏—Ç"
}
```

---

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

–ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é Qwen AI.

### POST /api/subtitles/analyze

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥, –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–µ–Ω–≥–∞.

**Content-Type:** `application/json`

**Headers:**
```
Content-Type: application/json
```

**Body (JSON):**
```typescript
{
  "subtitles": [
    {
      "id": number,
      "start": string,  // –§–æ—Ä–º–∞—Ç: "00:00:00,000"
      "end": string,    // –§–æ—Ä–º–∞—Ç: "00:00:00,000"
      "text": string
    }
  ],
  "sentenceText": "I gotta go home now.",  // –¢–µ–∫—Å—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
  "context": {         // –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    "prev": "Hello there",
    "next": "See you later"
  }
}
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST http://localhost:3001/api/subtitles/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "subtitles": [
      {
        "id": 1,
        "start": "00:00:01,000",
        "end": "00:00:04,000",
        "text": "I gotta go home now."
      }
    ],
    "sentenceText": "I gotta go home now.",
    "context": {
      "prev": "Hello there",
      "next": "See you later"
    }
  }'
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. **–ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è** - Qwen –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
2. **–°–ª–µ–Ω–≥** - –∏–∑–≤–ª–µ–∫–∞–µ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑ Urban Dictionary
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ç–æ–≥–æ –∂–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **–ü–µ—Ä–µ–≤–æ–¥** –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ü–µ–ª–∏–∫–æ–º
- **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ** –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –∏ —Å–ª–µ–Ω–≥–∞
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è** —Å–ª–µ–Ω–≥–∞ –∏–∑ Urban Dictionary
- **–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏** (B1, C1 –∏ —Ç.–¥.)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:**

#### ‚úÖ 200 OK
```json
{
  "success": true,
  "message": "–ê–Ω–∞–ª–∏–∑ —Å –ø–æ–º–æ—â—å—é Qwen –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ",
  "data": {
    "analysisType": "translation",
    "subtitlesAnalyzed": 1,
    "analysis": {
      "tokens": [
        {
          "id": 0,
          "entryIndex": 0,
          "charStart": 0,
          "charEnd": 1,
          "text": "I",
        },
        {
          "id": 1,
          "entryIndex": 0,
          "charStart": 2,
          "charEnd": 7,
          "text": "gotta",
        },
        {
          "id": 2,
          "entryIndex": 0,
          "charStart": 8,
          "charEnd": 11,
          "text": "go",
        },
        {
          "id": 3,
          "entryIndex": 0,
          "charStart": 12,
          "charEnd": 17,
          "text": "home",
        },
        {
          "id": 4,
          "entryIndex": 0,
          "charStart": 18,
          "charEnd": 22,
          "text": "now",
        },
        {
          "id": 5,
          "entryIndex": 0,
          "charStart": 22,
          "charEnd": 23,
          "text": ".",
        }
      ],
      "segments": [
        {
          "id": "seg_1",
          "wordStart": 0,
          "wordEnd": 6,
          "text": "I gotta go home now.",
          "reasoning": [],
          "difficulty": {
            "cefr": "B1",
            "score": 5,
            "factors": []
          },
          "features": []
        }
      ],
      "translations": [
        {
          "segmentId": "seg_1",
          "variants": [
            {
              "style": "natural",
              "text": "–ú–Ω–µ –Ω—É–∂–Ω–æ –∏–¥—Ç–∏ –¥–æ–º–æ–π —Å–µ–π—á–∞—Å.",
              "confidence": 0.8
            }
          ],
          "explanation": {
            "type": "simple",
            "summary": "–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤ –±—É–¥—É—â–µ–º –≤—Ä–µ–º–µ–Ω–∏",
            "details": "–í—ã—Ä–∞–∂–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è. 'Gotta' - —Å–ª–µ–Ω–≥ –¥–ª—è 'have got to'.",
            "notes": ["–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–π —Ä–µ—á–∏"]
          }
        }
      ],
      "slang": [
        {
          "tokenId": -1,
          "term": "gotta",
          "ud": {
            "definition": "Have got to",
            "example": "I gotta go",
            "permalink": "https://urbandictionary.com/define.php?term=gotta"
          }
        }
      ]
    },
    "metadata": {
      "processingTimeMs": 1250,
      "timestamp": "2025-01-24T10:30:00.000Z",
      "model": "Qwen/Qwen3-Next-80B-A3B-Instruct",
      "validationWarnings": []
    }
  }
}
```

#### ‚ùå 400 Bad Request - sentenceText –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞
```json
{
  "success": false,
  "message": "sentenceText (—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞"
}
```

#### ‚ùå 400 Bad Request - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```json
{
  "error": "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏",
  "message": "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤",
  "details": {
    "errors": ["–ü–æ–ª–µ 'text' –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ"],
    "warnings": ["–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏"]
  }
}
```

#### ‚ùå 401 Unauthorized - –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω
```json
{
  "error": "–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏",
  "message": "–ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π —Ç–æ–∫–µ–Ω Hugging Face"
}
```

#### ‚ùå 429 Too Many Requests - Rate limit
```json
{
  "error": "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤",
  "message": "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π.",
  "retryAfter": 60
}
```

#### ‚ùå 408 Request Timeout - –¢–∞–π–º–∞—É—Ç
```json
{
  "error": "–¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞",
  "message": "–ê–Ω–∞–ª–∏–∑ –∑–∞–Ω—è–ª —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å—É–±—Ç–∏—Ç—Ä–æ–≤."
}
```

#### ‚ùå 503 Service Unavailable - AI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```json
{
  "error": "–°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω",
  "message": "–°–ª—É–∂–±–∞ Qwen AI —Å–µ–π—á–∞—Å –∑–∞–Ω—è—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."
}
```

#### ‚ùå 502 Bad Gateway - –û—à–∏–±–∫–∞ AI
```json
{
  "error": "–û—à–∏–±–∫–∞ –æ—Ç–≤–µ—Ç–∞ AI",
  "message": "–ü–æ–ª—É—á–µ–Ω –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç —Å–ª—É–∂–±—ã AI. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑."
}
```

---

## Health Check —Å–µ—Ä–≤–∏—Å–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤

–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ —Å–µ—Ä–≤–∏—Å–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤.

### GET /api/subtitles/health

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π.

**Headers:**
```
Content-Type: application/json
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X GET http://localhost:3001/api/subtitles/health
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:**

#### ‚úÖ 200 OK
```json
{
  "status": "OK",
  "service": "subtitles",
  "aiModel": "Qwen/Qwen3-Next-80B-A3B-Instruct",
  "endpoints": [
    {
      "path": "POST /upload",
      "description": "–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤ —Å—É–±—Ç–∏—Ç—Ä–æ–≤",
      "limits": "10MB, —Ñ–æ—Ä–º–∞—Ç—ã: .srt, .vtt, .txt"
    },
    {
      "path": "POST /analyze",
      "description": "–ê–Ω–∞–ª–∏–∑ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ —Å –ø–æ–º–æ—â—å—é Qwen AI",
      "rateLimit": "100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ 15 –º–∏–Ω—É—Ç"
    }
  ],
  "features": [
    "–ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞",
    "–û—Ü–µ–Ω–∫–∞ —Å–ª–æ–≤–∞—Ä–Ω–æ–≥–æ –∑–∞–ø–∞—Å–∞",
    "–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏",
    "–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑"
  ]
}
```

---

## –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### SubtitleEntry
```typescript
{
  id: number;      // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (1, 2, 3...)
  start: string;   // –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ "00:00:01,000"
  end: string;     // –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è "00:00:04,000"
  text: string;    // –¢–µ–∫—Å—Ç —Å—É–±—Ç–∏—Ç—Ä–∞
}
```

### TranslationGuide
```typescript
{
  tokens: Token[];                    // –í—Å–µ —Å–ª–æ–≤–∞ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏
  segments: TranslationSegment[];     // –°–µ–≥–º–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
  translations: TranslationData[];    // –ü–µ—Ä–µ–≤–æ–¥—ã –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
  slang: SlangCard[];                 // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–µ–Ω–≥–∞
}
```

### SlangCard
```typescript
{
  tokenId: number;    // ID —Ç–æ–∫–µ–Ω–∞ (-1 –¥–ª—è —Å–ª–µ–Ω–≥–∞)
  term: string;       // –°–ª–µ–Ω–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "gotta")
  ud: {
    definition: string;  // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑ UD
    example: string;     // –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    permalink: string;   // –°—Å—ã–ª–∫–∞ –Ω–∞ UD
  }
}
```

### Token
```typescript
{
  id: number;         // ID —Ç–æ–∫–µ–Ω–∞
  entryIndex: number; // –ò–Ω–¥–µ–∫—Å —Å—É–±—Ç–∏—Ç—Ä–∞
  charStart: number;  // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Ç–µ–∫—Å—Ç–µ
  charEnd: number;    // –ö–æ–Ω–µ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Ç–µ–∫—Å—Ç–µ
  text: string;       // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
}
```

---

## –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏—á–∏–Ω–∞ |
|-----|----------|---------|
| 200 | OK | –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å |
| 400 | Bad Request | –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è |
| 401 | Unauthorized | –ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π HF_TOKEN |
| 404 | Not Found | –≠–Ω–¥–ø–æ–∏–Ω—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| 408 | Request Timeout | –ó–∞–ø—Ä–æ—Å –∑–∞–Ω—è–ª —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ |
| 429 | Too Many Requests | –ü—Ä–µ–≤—ã—à–µ–Ω rate limit (100/15–º–∏–Ω) |
| 500 | Internal Server Error | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |
| 502 | Bad Gateway | –û—à–∏–±–∫–∞ –æ—Ç–≤–µ—Ç–∞ AI |
| 503 | Service Unavailable | AI —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω |

---

## –õ–∏–º–∏—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –§–∞–π–ª—ã
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä:** 10MB
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:** .srt, .vtt, .txt
- **MIME —Ç–∏–ø—ã:** text/plain, application/octet-stream, text/vtt

### API
- **Rate Limiting:** 100 –∑–∞–ø—Ä–æ—Å–æ–≤ / 15 –º–∏–Ω—É—Ç —Å –æ–¥–Ω–æ–≥–æ IP
- **–¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞:** 30 —Å–µ–∫—É–Ω–¥
- **–ú–∞–∫—Å–∏–º—É–º —Å—É–±—Ç–∏—Ç—Ä–æ–≤:** –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–∞–º—è—Ç–∏)

### AI –ú–æ–¥–µ–ª—å
- **–ú–æ–¥–µ–ª—å:** Qwen/Qwen3-Next-80B-A3B-Instruct
- **–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤:** 2000 –Ω–∞ –æ—Ç–≤–µ—Ç
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:** 0.4 (–¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤)
- **–¢–∞–π–º–∞—É—Ç:** 30 —Å–µ–∫—É–Ω–¥
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏:** 3 —Ä–∞–∑–∞

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü–æ–ª–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã

```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
curl -X POST http://localhost:3001/api/subtitles/upload \
  -F "subtitle=@movie.srt"

# 2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
curl -X POST http://localhost:3001/api/subtitles/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "subtitles": [{"id":1,"start":"00:00:01,000","end":"00:00:04,000","text":"I gotta go."}],
    "sentenceText": "I gotta go.",
    "context": {"prev": "Hello", "next": "Bye"}
  }'
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```bash
# –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤
curl -X POST http://localhost:3001/api/subtitles/analyze \
  -H "Content-Type: application/json" \
  -d '{"subtitles":[],"sentenceText":"I gotta go."}'

# –û—Ç–≤–µ—Ç: 429 Too Many Requests
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è

```bash
curl http://localhost:3001/health
# –û—Ç–≤–µ—Ç: {"status":"OK","timestamp":"...","environment":"development"}
```

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç curl. –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP –∫–ª–∏–µ–Ω—Ç (fetch, axios –∏ —Ç.–¥.)
